{% include 'layout/header_dashboard.html' %}
<body>
  <!-- Navbar -->
<!-- Navbar -->
  <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 shadow-sm">
    <div class="container-fluid justify-content-between">
      <h1 class="navbar-brand mb-0 h3">Dashboard de Casos de C√°ncer</h1>
      <div class="d-flex align-items-center">
        <button id="toggleTheme" class="btn btn-outline-warning me-2">
          <i class="fas fa-moon"></i> Modo Oscuro
        </button>
        <a href="/listcancer" class="btn btn-outline-light me-2">
          <i class="fas fa-database"></i> Ir al CRUD
        </a>
        <a href="/logout" class="btn btn-outline-danger">
          <i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n
        </a>
      </div>
    </div>
  </nav>


  <div class="container-fluid">
    <div class="card">
      <!-- Filtros -->
      <details class="mb-4">
        <summary class="h5 text-primary">üéõÔ∏è Filtros de visualizaci√≥n</summary>
        <div class="row mb-4">
          <div class="col-md-3">
            <label for="filterPais" class="form-label">Filtrar por pa√≠s:</label>
            <select id="filterPais" class="form-select"><option value="">Todos</option></select>
          </div>
          <div class="col-md-3">
            <label for="filterGenero" class="form-label">Filtrar por g√©nero:</label>
            <select id="filterGenero" class="form-select"><option value="">Todos</option></select>
          </div>
          <div class="col-md-3">
            <label for="filterAnio" class="form-label">Filtrar por a√±o:</label>
            <select id="filterAnio" class="form-select"><option value="">Todos</option></select>
          </div>
          <div class="col-md-3">
            <label for="filterTipoCancer" class="form-label">Filtrar por tipo de c√°ncer:</label>
            <select id="filterTipoCancer" class="form-select"><option value="">Todos</option></select>
          </div>
        </div>
      </details>

      <!-- Tabla -->
      <details class="mb-4" open>
        <summary class="h5 text-primary">üìä Ver tabla de datos</summary>
        <div class="mt-3 table-responsive">
          <table id="tablaDatos" class="table table-striped" style="width:100%">
            <thead>
              <tr>
                <th>ID Paciente</th>
                <th>Edad</th>
                <th>G√©nero</th>
                <th>Pa√≠s</th>
                <th>A√±o</th>
                <th>Riesgo Gen√©tico</th>
                <th>Contaminaci√≥n en el aire</th>
                <th>Consumo de alcohol</th>
                <th>Consumo de tabaco</th>
                <th>Nivel de Obesidad</th>
                <th>Tipo de C√°ncer</th>
                <th>Etapa del C√°ncer</th>
                <th>Costo del tratamiento (USD)</th>
                <th>A√±os de Supervivencia</th>
                <th>Puntaje de Severidad</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </details>

      <!-- Gr√°ficos -->
      <ul class="nav nav-tabs mb-3" id="graficoTabs" role="tablist">
        <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab1" type="button">üåç Pa√≠ses y Clasificaci√≥n</button></li>
        <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab2" type="button">‚ò£Ô∏è Causantes</button></li>
        <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab3" type="button">üí∞ Costos</button></li>
        <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab4" type="button">‚è≥ Severidad y Tiempo</button></li>
        <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab5" type="button">üìä Otras Clasificaciones</button></li>
      </ul>

      <div class="tab-content">
        <!-- üåç Pa√≠ses y Clasificaci√≥n -->
        <div class="tab-pane fade show active" id="tab1">
          <div class="row">
            <div class="col-md-6"><canvas id="casosPorPais"></canvas></div>
            <div class="col-md-6"><canvas id="casosPorTipoCancer"></canvas></div>
          </div>
        </div>

        <!-- ‚ò£Ô∏è Causantes -->
        <div class="tab-pane fade" id="tab2">
          <div class="row">
            <div class="col-md-6"><canvas id="graficoFactorAlcohol"></canvas></div>
            <div class="col-md-6"><canvas id="graficoFactorTabaco"></canvas></div>
            <div class="col-md-6"><canvas id="graficoFactorObesidad"></canvas></div>
            <div class="col-md-6"><canvas id="graficoFactorContaminacion"></canvas></div>
            <div class="col-md-8 mx-auto"><canvas id="graficoRadarFactoresRiesgo"></canvas></div>
          </div>
        </div>

        <!-- üí∞ Costos -->
        <div class="tab-pane fade" id="tab3">
          <div class="row">
            <div class="col-md-6"><canvas id="graficoCostosPorTipo"></canvas></div>
            <div class="col-md-6"><canvas id="graficoCostosPorEtapa"></canvas></div>
          </div>
        </div>

        <!-- ‚è≥ Severidad y Tiempo -->
        <div class="tab-pane fade" id="tab4">
          <div class="row"><div class="col-12"><canvas id="graficoSeveridadSobrevida"></canvas></div></div>
        </div>

        <!-- üìä Edad, Severidad y G√©nero -->
        <div class="tab-pane fade" id="tab5">
          <div class="row">
            <div class="col-md-4"><canvas id="graficoDistribucionEdad"></canvas></div>
            <div class="col-md-4"><canvas id="graficoDistribucionGenero"></canvas></div>
            <div class="col-md-4"><canvas id="graficoDistribucionSeveridad"></canvas></div>
          </div>
        </div>
      </div>
    </div>
  </div>
 <!-- Scripts -->
         {% include 'layout/scripts.html' %}
         <script src="{{ url_for('static', filename='js/dashboard.js') }}?v=3.0.0"></script>
    
 </body>
{% include 'layout/footer_dashboard.html' %}
</html>